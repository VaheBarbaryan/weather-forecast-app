!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).vueDebounce={})}(this,(function(e){"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){var r,o,i,a,u=null,l="number"==typeof n?n:(r=t(String(n).split(/(ms|s)/i),2),o=r[0],i=r[1],a=void 0===i?"ms":i,Number(o)*{ms:1,s:1e3}[a]),c=function(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(){u=null,e.apply(t,r)};clearTimeout(u),(u=setTimeout(i,l))||e.apply(this,r)};return c.cancel=function(){clearTimeout(u),u=null},c}function o(e){return e.map((function(e){return e.toLowerCase()}))}function i(e,t){var n,r=e?e["debounce-events"]:[];return r&&r.length>0?Array.isArray(r)?o(r):o(r.split(",")):o((n=t,Array.isArray(n)?n:null==n?[]:[n]))}function a(e){return""===e}function u(e,t){return"Enter"===e&&(!t.lock||t.unlock)}function l(e,t,n){return a(e)&&n.fireonempty&&("Enter"===t||" "===t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lock,n=void 0!==t&&t,o=e.listenTo,c=void 0===o?"keyup":o,f=e.defaultTime,v=void 0===f?"300ms":f,d=e.fireOnEmpty,s=void 0!==d&&d,y=e.cancelOnEmpty,m=void 0!==y&&y,p=e.trim,g=void 0!==p&&p;return{bind:function(e,t,o){var f=t.value,d=t.arg,y=void 0===d?v:d,p=t.modifiers,b=Object.assign({lock:n,trim:g,fireonempty:s,cancelonempty:m},p),h=i(o.data.attrs,c),k=r((function(e){f(e.target.value,e)}),y);function A(e){var t=b.trim?e.target.value.trim():e.target.value;a(t)&&b.cancelonempty?k.cancel():u(e.key,b)||l(t,e.key,b)?(k.cancel(),f(e.target.value,e)):k(e)}h.forEach((function(t){e.addEventListener(t,A)}))}}}var f={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.directive("debounce",c(t))}};e.debounce=r,e.default=f,e.vue3Debounce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lock,n=void 0!==t&&t,o=e.listenTo,c=void 0===o?"keyup":o,f=e.defaultTime,v=void 0===f?"300ms":f,d=e.fireOnEmpty,s=void 0!==d&&d,y=e.cancelOnEmpty,m=void 0!==y&&y,p=e.trim,g=void 0!==p&&p;return{created:function(e,t,o){var f=t.value,d=t.arg,y=void 0===d?v:d,p=t.modifiers,b=Object.assign({lock:n,trim:g,fireonempty:s,cancelonempty:m},p),h=i(o.props,c),k=r((function(e){f(e.target.value,e)}),y);function A(e){var t=b.trim?e.target.value.trim():e.target.value;a(t)&&b.cancelonempty?k.cancel():u(e.key,b)||l(t,e.key,b)?(k.cancel(),f(e.target.value,e)):k(e)}h.forEach((function(t){e.addEventListener(t,A)}))}}},Object.defineProperty(e,"__esModule",{value:!0})}));
